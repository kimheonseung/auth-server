<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
</head>
<!--<link type="text/css" th:href="@{/css/loading.css}" rel="stylesheet"/>-->
<script th:src="@{/lib/axios.min.js}"></script>
<script th:src="@{/lib/cryptojs.min.js}"></script>
<script th:src="@{/scripts/aes256.js}"></script>
<script type="text/javascript">

const key = "[[${aesKey}]]";
document.addEventListener("DOMContentLoaded", (evt) => {
	
  document.getElementById('btn_login').addEventListener('click', () => {
    axios
        .post('/login', JSON.stringify({
          email: document.getElementById('email').value,
          password: aes256Service().encrypt(document.getElementById('password').value)
        }));
    
	/*
    axios
        .post('/login', {
          email: document.getElementById('email').value,
          name: document.getElementById('name').value,
          password: aes256Service().encrypt(document.getElementById('password').value)
        })
        .then((res) => {
          alert('이메일 인증을 통해 가입을 완료해주세요.');
          window.location.reload();
        })
        .catch((e) => {
          alert(e);
        });
	  */
    });
});
</script>
<body>
<div class="wrap flex_center width_100">
	<!-- <form action="/login/process" method="post" id="login-form">  -->
		<input type="text" name="email" id="email" placeholder="Email" />
		<input type="password" name="password" id="password" placeholder="Password" />
		<button id="btn_login">로그인</button>
	<!-- </form>  -->
</div>
</body>
</html>